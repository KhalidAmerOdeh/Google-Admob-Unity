<!DOCTYPE html>
<html lang="ar">
<head>
    <!-- Google Tag Manager -->
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
})(window,document,'script','dataLayer','GTM-K42LKKSN');</script>
<!-- End Google Tag Manager -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تحويل الملفات | File Converter</title>
    <style>
        /* أنماط CSS */
        body {
            font-family: Arial, sans-serif;
            background-color: #4a4a4a;
            color: #fff;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        header {
            background: #333;
            width: 100%;
            padding: 10px 0;
            text-align: center;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            position: fixed;
            top: 0;
            left: 0;
            z-index: 1000;
        }
        header nav {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        header nav a {
            color: #fff;
            text-decoration: none;
            font-size: 18px;
            padding: 10px 20px;
            border-radius: 5px;
            transition: background 0.3s;
        }
        header nav a:hover {
            background: rgba(255, 255, 255, 0.1);
        }
        .container {
            background: #333;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            text-align: center;
            max-width: 500px;
            width: 100%;
            margin-top: 80px;
            color: #fff;
        }
        h1 {
            font-size: 24px;
            margin-bottom: 20px;
            color: #F4A900;
        }
        .language-select {
            margin-bottom: 20px;
        }
        .language-select select {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #555;
            border-radius: 5px;
            background-color: #444;
            color: #fff;
        }
        .upload-section {
            margin-bottom: 20px;
        }
        .upload-section input[type="file"] {
            display: none;
        }
        .upload-section label {
            background: #F4A900;
            color: #fff;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .format-select {
            margin-bottom: 20px;
        }
        .format-select select {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #555;
            border-radius: 5px;
            width: 100%;
            background-color: #444;
            color: #fff;
        }
        .compress-section {
            margin-bottom: 20px;
        }
        .compress-section label {
            display: block;
            margin-bottom: 10px;
            font-size: 16px;
        }
        .compress-section select {
            padding: 10px;
            font-size: 16px;
            border: 1px solid #555;
            border-radius: 5px;
            background-color: #444;
            color: #fff;
        }
        .convert-btn {
            background: #28a745;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .convert-btn:hover {
            background: #218838;
        }
        .compress-btn {
            background: #ff5722;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            margin-top: 10px;
        }
        .compress-btn:hover {
            background: #e64a19;
        }
        #downloadLink {
            display: none;
            margin-top: 20px;
            color: #F4A900;
            text-decoration: none;
            font-size: 18px;
        }
        #previewImage {
            max-width: 100%;
            margin-top: 20px;
            border-radius: 5px;
            display: none;
        }
        #previewVideo {
            max-width: 100%;
            margin-top: 20px;
            border-radius: 5px;
            display: none;
        }
        .file-size {
            margin-top: 10px;
            font-size: 14px;
            color: #F4A900;
        }
        .page-content {
            display: none;
        }
        .page-content.active {
            display: block;
        }
        a {
            color: #F4A900;
        }
        .upload-success {
            display: none;
            margin-top: 10px;
            color: #28a745;
            font-size: 14px;
        }
        .action-buttons {
            margin-top: 20px;
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        .action-buttons button {
            background: #007bff;
            color: #fff;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .action-buttons button:hover {
            background: #0056b3;
        }
        /* إخفاء العنصر المخفي */
        #hiddenInput {
            position: absolute;
            left: -9999px;
        }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-K42LKKSN"
height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<!-- End Google Tag Manager (noscript) -->
    <header>
        <nav>
            <a href="#" onclick="showPage('home')" id="homeLink">الصفحة الرئيسية</a>
            <a href="#" onclick="showPage('privacy')" id="privacyLink">سياسة الخصوصية</a>
            <a href="#" onclick="showPage('contact')" id="contactLink">الاتصال</a>
        </nav>
    </header>

    <!-- الصفحة الرئيسية -->
    <div id="home" class="container page-content active">
        <h1 id="title">تحويل الملفات إلى صيغ مختلفة</h1>
        <div class="language-select">
            <select id="languageSelect" onchange="changeLanguage()">
                <option value="ar">العربية</option>
                <option value="en">English</option>
                <option value="zh">中文 (الصينية)</option>
                <option value="hi">हिन्दी (الهندية)</option>
                <option value="es">Español (الإسبانية)</option>
                <option value="fr">Français (الفرنسية)</option>
                <option value="ru">Русский (الروسية)</option>
                <option value="pt">Português (البرتغالية)</option>
                <option value="de">Deutsch (الألمانية)</option>
                <option value="ja">日本語 (اليابانية)</option>
                <option value="ko">한국어 (الكورية)</option>
                <option value="it">Italiano (الإيطالية)</option>
            </select>
        </div>
        <div class="upload-section">
            <input type="file" id="fileInput" accept="image/*,video/*">
            <label for="fileInput" id="uploadLabel">اختر ملف</label>
        </div>
        <div class="format-select">
            <select id="formatSelect">
                <option value="jpeg">JPEG</option>
                <option value="png">PNG</option>
                <option value="webp">WebP</option>
                <option value="gif">GIF</option>
                <option value="bmp">BMP</option>
                <option value="tiff">TIFF</option>
                <option value="svg">SVG</option>
                <option value="ico">ICO</option>
                <option value="heic">HEIC</option>
                <option value="avif">AVIF</option>
                <option value="mp4" class="video-format">MP4</option>
                <option value="avi" class="video-format">AVI</option>
                <option value="mov" class="video-format">MOV</option>
                <option value="mkv" class="video-format">MKV</option>
                <option value="webm" class="video-format">WebM</option>
            </select>
        </div>
        <div class="compress-section">
            <label for="compressLevel" id="compressLabel">اختر مستوى الضغط:</label>
            <select id="compressLevel">
                <option value="1.0">بدون ضغط</option>
                <option value="0.8">ضغط منخفض</option>
                <option value="0.6">ضغط متوسط</option>
                <option value="0.4">ضغط عالي</option>
            </select>
            <button class="compress-btn" onclick="compressFile()" id="compressBtn">ضغط الملف</button>
        </div>
        <button class="convert-btn" onclick="convertFile()" id="convertBtn">تحويل الملف</button>
        <div id="uploadSuccess" class="upload-success">تم تحميل الملف بنجاح!</div>
        <div id="fileSizeBefore" class="file-size"></div>
        <div id="fileSizeAfter" class="file-size"></div>
        <a id="downloadLink">تحميل الملف المحول</a>
        <img id="previewImage" src="" alt="الملف المحول" style="display: none;">
        <video id="previewVideo" controls style="display: none;"></video>

        <!-- الزرين الجديدين -->
        <div class="action-buttons">
            <button onclick="copyLink()" id="copyLinkBtn">نسخ رابط الموقع</button>
            <button onclick="redirectToGoogle()" id="redirectToGoogleBtn">التوجه إلى Google</button>
        </div>

        <!-- العنصر المخفي لنسخ الرابط -->
        <input type="text" id="hiddenInput" value="https://khalidamerodeh.github.io/ConvertFile/#">
    </div>

    <!-- صفحة سياسة الخصوصية -->
    <div id="privacy" class="container page-content">
        <h1 id="privacyTitle">سياسة الخصوصية</h1>
        <p id="privacyText">
            نحن نحترم خصوصيتك. لا نقوم بتخزين أو مشاركة أي بيانات شخصية. حتى إذا سمحت بالوصول إلى معرض الملفات، فإننا لا نجمع أو نخزن أي معلومات.
        </p>
    </div>

    <!-- صفحة الاتصال -->
    <div id="contact" class="container page-content">
        <h1 id="contactTitle">الاتصال</h1>
        <p id="contactText">يمكنك التواصل معنا عبر البريد الإلكتروني: <a href="mailto:khalid.amer.odeh1@gmail.com" style="color: #F4A900;">khalid.amer.odeh1@gmail.com</a></p>
    </div>

    <!-- تضمين مكتبة FFmpeg.js -->
    <script src="https://unpkg.com/@ffmpeg/ffmpeg@0.11.0/dist/ffmpeg.min.js"></script>
    <script>
        // تهيئة FFmpeg
        const { createFFmpeg } = FFmpeg;
        const ffmpeg = createFFmpeg({ log: true });

        // الترجمات متعددة اللغات
        const translations = {
            ar: {
                title: "تحويل الملفات إلى صيغ مختلفة",
                uploadLabel: "اختر ملف",
                convertBtn: "تحويل الملف",
                compressBtn: "ضغط الملف",
                downloadLink: "تحميل الملف المحول",
                alertMessage: "الرجاء اختيار ملف أولاً.",
                homeLink: "الصفحة الرئيسية",
                privacyLink: "سياسة الخصوصية",
                contactLink: "الاتصال",
                privacyTitle: "سياسة الخصوصية",
                privacyText: "نحن نحترم خصوصيتك. لا نقوم بتخزين أو مشاركة أي بيانات شخصية. حتى إذا سمحت بالوصول إلى معرض الملفات، فإننا لا نجمع أو نخزن أي معلومات.",
                contactTitle: "الاتصال",
                contactText: "يمكنك التواصل معنا عبر البريد الإلكتروني: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "تم تحميل الملف بنجاح!",
                compressLabel: "اختر مستوى الضغط:",
                compressLevels: {
                    noCompression: "بدون ضغط",
                    low: "ضغط منخفض",
                    medium: "ضغط متوسط",
                    high: "ضغط عالي"
                },
                fileSizeBefore: "حجم الملف قبل الضغط: ",
                fileSizeAfter: "حجم الملف بعد الضغط: ",
                copyLinkBtn: "نسخ رابط الموقع",
                redirectToGoogleBtn: "التوجه إلى Google",
                copyLinkMessage: "تم نسخ الرابط بنجاح!",
                redirectToGoogleMessage: "يرجى نسخ رابط الموقع أولاً للتوجه إلى Google."
            },
            en: {
                title: "Convert Files to Different Formats",
                uploadLabel: "Choose File",
                convertBtn: "Convert File",
                compressBtn: "Compress File",
                downloadLink: "Download Converted File",
                alertMessage: "Please select a file first.",
                homeLink: "Home",
                privacyLink: "Privacy Policy",
                contactLink: "Contact",
                privacyTitle: "Privacy Policy",
                privacyText: "We respect your privacy. We do not store or share any personal data. Even if you grant access to the file gallery, we do not collect or store any information.",
                contactTitle: "Contact",
                contactText: "You can contact us via email: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "File uploaded successfully!",
                compressLabel: "Choose compression level:",
                compressLevels: {
                    noCompression: "No Compression",
                    low: "Low Compression",
                    medium: "Medium Compression",
                    high: "High Compression"
                },
                fileSizeBefore: "File size before compression: ",
                fileSizeAfter: "File size after compression: ",
                copyLinkBtn: "Copy Site Link",
                redirectToGoogleBtn: "Go to Google",
                copyLinkMessage: "Link copied successfully!",
                redirectToGoogleMessage: "Please copy the site link first to go to Google."
            },
            zh: {
                title: "将文件转换为不同格式",
                uploadLabel: "选择文件",
                convertBtn: "转换文件",
                compressBtn: "压缩文件",
                downloadLink: "下载转换后的文件",
                alertMessage: "请先选择一个文件。",
                homeLink: "首页",
                privacyLink: "隐私政策",
                contactLink: "联系我们",
                privacyTitle: "隐私政策",
                privacyText: "我们尊重您的隐私。我们不存储或共享任何个人数据。即使您允许访问文件库，我们也不会收集或存储任何信息。",
                contactTitle: "联系我们",
                contactText: "您可以通过电子邮件联系我们：<a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "文件上传成功！",
                compressLabel: "选择压缩级别：",
                compressLevels: {
                    noCompression: "无压缩",
                    low: "低压缩",
                    medium: "中压缩",
                    high: "高压缩"
                },
                fileSizeBefore: "压缩前的文件大小: ",
                fileSizeAfter: "压缩后的文件大小: ",
                copyLinkBtn: "复制网站链接",
                redirectToGoogleBtn: "前往 Google",
                copyLinkMessage: "链接复制成功！",
                redirectToGoogleMessage: "请先复制网站链接以前往 Google。"
            },
            hi: {
                title: "फ़ाइलों को विभिन्न प्रारूपों में बदलें",
                uploadLabel: "फ़ाइल चुनें",
                convertBtn: "फ़ाइल बदलें",
                compressBtn: "फ़ाइल संपीड़ित करें",
                downloadLink: "परिवर्तित फ़ाइल डाउनलोड करें",
                alertMessage: "कृपया पहले एक फ़ाइल चुनें।",
                homeLink: "होम",
                privacyLink: "गोपनीयता नीति",
                contactLink: "संपर्क करें",
                privacyTitle: "गोपनीयता नीति",
                privacyText: "हम आपकी गोपनीयता का सम्मान करते हैं। हम कोई व्यक्तिगत डेटा संग्रहीत या साझा नहीं करते हैं। यहां तक कि यदि आप फ़ाइल गैलरी तक पहुंच की अनुमति देते हैं, तो हम कोई जानकारी एकत्र या संग्रहीत नहीं करते हैं।",
                contactTitle: "संपर्क करें",
                contactText: "आप हमें ईमेल के माध्यम से संपर्क कर सकते हैं: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "फ़ाइल सफलतापूर्वक अपलोड की गई!",
                compressLabel: "संपीड़न स्तर चुनें:",
                compressLevels: {
                    noCompression: "बिना संपीड़न",
                    low: "कम संपीड़न",
                    medium: "मध्यम संपीड़न",
                    high: "उच्च संपीड़न"
                },
                fileSizeBefore: "संपीड़न से पहले फ़ाइल का आकार: ",
                fileSizeAfter: "संपीड़न के बाद फ़ाइल का आकार: ",
                copyLinkBtn: "साइट लिंक कॉपी करें",
                redirectToGoogleBtn: "Google पर जाएं",
                copyLinkMessage: "लिंक सफलतापूर्वक कॉपी किया गया!",
                redirectToGoogleMessage: "Google पर जाने के लिए कृपया पहले साइट लिंक कॉपी करें।"
            },
            es: {
                title: "Convertir archivos a diferentes formatos",
                uploadLabel: "Elegir archivo",
                convertBtn: "Convertir archivo",
                compressBtn: "Comprimir archivo",
                downloadLink: "Descargar archivo convertido",
                alertMessage: "Por favor, seleccione un archivo primero.",
                homeLink: "Inicio",
                privacyLink: "Política de privacidad",
                contactLink: "Contacto",
                privacyTitle: "Política de privacidad",
                privacyText: "Respetamos su privacidad. No almacenamos ni compartimos ningún dato personal. Incluso si permite el acceso a la galería de archivos, no recopilamos ni almacenamos ninguna información.",
                contactTitle: "Contacto",
                contactText: "Puede contactarnos por correo electrónico: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "¡Archivo subido con éxito!",
                compressLabel: "Elegir nivel de compresión:",
                compressLevels: {
                    noCompression: "Sin compresión",
                    low: "Compresión baja",
                    medium: "Compresión media",
                    high: "Compresión alta"
                },
                fileSizeBefore: "Tamaño del archivo antes de la compresión: ",
                fileSizeAfter: "Tamaño del archivo después de la compresión: ",
                copyLinkBtn: "Copiar enlace del sitio",
                redirectToGoogleBtn: "Ir a Google",
                copyLinkMessage: "¡Enlace copiado con éxito!",
                redirectToGoogleMessage: "Por favor, copie el enlace del sitio primero para ir a Google."
            },
            fr: {
                title: "Convertir des fichiers en différents formats",
                uploadLabel: "Choisir un fichier",
                convertBtn: "Convertir le fichier",
                compressBtn: "Compresser le fichier",
                downloadLink: "Télécharger le fichier converti",
                alertMessage: "Veuillez d'abord sélectionner un fichier.",
                homeLink: "Accueil",
                privacyLink: "Politique de confidentialité",
                contactLink: "Contact",
                privacyTitle: "Politique de confidentialité",
                privacyText: "Nous respectons votre vie privée. Nous ne stockons ni ne partageons aucune donnée personnelle. Même si vous autorisez l'accès à la galerie de fichiers, nous ne collectons ni ne stockons aucune information.",
                contactTitle: "Contact",
                contactText: "Vous pouvez nous contacter par e-mail : <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "Fichier téléchargé avec succès !",
                compressLabel: "Choisir le niveau de compression :",
                compressLevels: {
                    noCompression: "Sans compression",
                    low: "Compression faible",
                    medium: "Compression moyenne",
                    high: "Compression élevée"
                },
                fileSizeBefore: "Taille du fichier avant compression: ",
                fileSizeAfter: "Taille du fichier après compression: ",
                copyLinkBtn: "Copier le lien du site",
                redirectToGoogleBtn: "Aller à Google",
                copyLinkMessage: "Lien copié avec succès !",
                redirectToGoogleMessage: "Veuillez d'abord copier le lien du site pour aller à Google."
            },
            ru: {
                title: "Конвертировать файлы в разные форматы",
                uploadLabel: "Выбрать файл",
                convertBtn: "Конвертировать файл",
                compressBtn: "Сжать файл",
                downloadLink: "Скачать конвертированный файл",
                alertMessage: "Пожалуйста, сначала выберите файл.",
                homeLink: "Главная",
                privacyLink: "Политика конфиденциальности",
                contactLink: "Контакты",
                privacyTitle: "Политика конфиденциальности",
                privacyText: "Мы уважаем вашу конфиденциальность. Мы не храним и не передаем личные данные. Даже если вы разрешите доступ к галерее файлов, мы не собираем и не храним никакой информации.",
                contactTitle: "Контакты",
                contactText: "Вы можете связаться с нами по электронной почте: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "Файл успешно загружен!",
                compressLabel: "Выберите уровень сжатия:",
                compressLevels: {
                    noCompression: "Без сжатия",
                    low: "Низкое сжатие",
                    medium: "Среднее сжатие",
                    high: "Высокое сжатие"
                },
                fileSizeBefore: "Размер файла до сжатия: ",
                fileSizeAfter: "Размер файла после сжатия: ",
                copyLinkBtn: "Скопировать ссылку на сайт",
                redirectToGoogleBtn: "Перейти в Google",
                copyLinkMessage: "Ссылка успешно скопирована!",
                redirectToGoogleMessage: "Пожалуйста, сначала скопируйте ссылку на сайт, чтобы перейти в Google."
            },
            pt: {
                title: "Converter arquivos para diferentes formatos",
                uploadLabel: "Escolher arquivo",
                convertBtn: "Converter arquivo",
                compressBtn: "Comprimir arquivo",
                downloadLink: "Baixar arquivo convertido",
                alertMessage: "Por favor, selecione um arquivo primeiro.",
                homeLink: "Início",
                privacyLink: "Política de Privacidade",
                contactLink: "Contato",
                privacyTitle: "Política de Privacidade",
                privacyText: "Respeitamos sua privacidade. Não armazenamos nem compartilhamos dados pessoais. Mesmo que você permita o acesso à galeria de arquivos, não coletamos nem armazenamos nenhuma informação.",
                contactTitle: "Contato",
                contactText: "Você pode nos contatar por e-mail: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "Arquivo enviado com sucesso!",
                compressLabel: "Escolher nível de compressão:",
                compressLevels: {
                    noCompression: "Sem compressão",
                    low: "Baixa compressão",
                    medium: "Média compressão",
                    high: "Alta compressão"
                },
                fileSizeBefore: "Tamanho do arquivo antes da compressão: ",
                fileSizeAfter: "Tamanho do arquivo após a compressão: ",
                copyLinkBtn: "Copiar link do site",
                redirectToGoogleBtn: "Ir para o Google",
                copyLinkMessage: "Link copiado com sucesso!",
                redirectToGoogleMessage: "Por favor, copie o link do site primeiro para ir ao Google."
            },
            de: {
                title: "Dateien in verschiedene Formate konvertieren",
                uploadLabel: "Datei auswählen",
                convertBtn: "Datei konvertieren",
                compressBtn: "Datei komprimieren",
                downloadLink: "Konvertierte Datei herunterladen",
                alertMessage: "Bitte wählen Sie zuerst eine Datei aus.",
                homeLink: "Startseite",
                privacyLink: "Datenschutzrichtlinie",
                contactLink: "Kontakt",
                privacyTitle: "Datenschutzrichtlinie",
                privacyText: "Wir respektieren Ihre Privatsphäre. Wir speichern oder teilen keine persönlichen Daten. Selbst wenn Sie den Zugriff auf die Dateigalerie erlauben, sammeln oder speichern wir keine Informationen.",
                contactTitle: "Kontakt",
                contactText: "Sie können uns per E-Mail kontaktieren: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "Datei erfolgreich hochgeladen!",
                compressLabel: "Komprimierungsstufe wählen:",
                compressLevels: {
                    noCompression: "Keine Komprimierung",
                    low: "Geringe Komprimierung",
                    medium: "Mittlere Komprimierung",
                    high: "Hohe Komprimierung"
                },
                fileSizeBefore: "Dateigröße vor der Komprimierung: ",
                fileSizeAfter: "Dateigröße nach der Komprimierung: ",
                copyLinkBtn: "Link zur Website kopieren",
                redirectToGoogleBtn: "Zu Google gehen",
                copyLinkMessage: "Link erfolgreich kopiert!",
                redirectToGoogleMessage: "Bitte kopieren Sie zuerst den Link zur Website, um zu Google zu gehen."
            },
            ja: {
                title: "ファイルを異なる形式に変換",
                uploadLabel: "ファイルを選択",
                convertBtn: "ファイルを変換",
                compressBtn: "ファイルを圧縮",
                downloadLink: "変換されたファイルをダウンロード",
                alertMessage: "最初にファイルを選択してください。",
                homeLink: "ホーム",
                privacyLink: "プライバシーポリシー",
                contactLink: "お問い合わせ",
                privacyTitle: "プライバシーポリシー",
                privacyText: "私たちはあなたのプライバシーを尊重します。個人データを保存または共有することはありません。ファイルギャラリーへのアクセスを許可しても、情報を収集または保存することはありません。",
                contactTitle: "お問い合わせ",
                contactText: "メールでお問い合わせください: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "ファイルが正常にアップロードされました！",
                compressLabel: "圧縮レベルを選択:",
                compressLevels: {
                    noCompression: "圧縮なし",
                    low: "低圧縮",
                    medium: "中圧縮",
                    high: "高圧縮"
                },
                fileSizeBefore: "圧縮前のファイルサイズ: ",
                fileSizeAfter: "圧縮後のファイルサイズ: ",
                copyLinkBtn: "サイトリンクをコピー",
                redirectToGoogleBtn: "Googleに移動",
                copyLinkMessage: "リンクが正常にコピーされました！",
                redirectToGoogleMessage: "Googleに移動するには、まずサイトリンクをコピーしてください。"
            },
            ko: {
                title: "파일을 다른 형식으로 변환",
                uploadLabel: "파일 선택",
                convertBtn: "파일 변환",
                compressBtn: "파일 압축",
                downloadLink: "변환된 파일 다운로드",
                alertMessage: "먼저 파일을 선택하세요.",
                homeLink: "홈",
                privacyLink: "개인정보 보호정책",
                contactLink: "연락처",
                privacyTitle: "개인정보 보호정책",
                privacyText: "우리는 귀하의 개인정보를 존중합니다. 개인 데이터를 저장하거나 공유하지 않습니다. 파일 갤러리에 대한 액세스를 허용하더라도 정보를 수집하거나 저장하지 않습니다.",
                contactTitle: "연락처",
                contactText: "이메일로 문의하실 수 있습니다: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "파일이 성공적으로 업로드되었습니다!",
                compressLabel: "압축 수준 선택:",
                compressLevels: {
                    noCompression: "압축 없음",
                    low: "낮은 압축",
                    medium: "중간 압축",
                    high: "높은 압축"
                },
                fileSizeBefore: "압축 전 파일 크기: ",
                fileSizeAfter: "압축 후 파일 크기: ",
                copyLinkBtn: "사이트 링크 복사",
                redirectToGoogleBtn: "Google로 이동",
                copyLinkMessage: "링크가 성공적으로 복사되었습니다!",
                redirectToGoogleMessage: "Google로 이동하려면 먼저 사이트 링크를 복사하세요."
            },
            it: {
                title: "Converti file in diversi formati",
                uploadLabel: "Scegli file",
                convertBtn: "Converti file",
                compressBtn: "Comprimi file",
                downloadLink: "Scarica file convertito",
                alertMessage: "Seleziona prima un file.",
                homeLink: "Home",
                privacyLink: "Politica sulla privacy",
                contactLink: "Contatto",
                privacyTitle: "Politica sulla privacy",
                privacyText: "Rispettiamo la tua privacy. Non memorizziamo o condividiamo dati personali. Anche se concedi l'accesso alla galleria di file, non raccogliamo né memorizziamo alcuna informazione.",
                contactTitle: "Contatto",
                contactText: "Puoi contattarci via email: <a href='mailto:khalid.amer.odeh1@gmail.com' style='color: #F4A900;'>khalid.amer.odeh1@gmail.com</a>",
                uploadSuccess: "File caricato con successo!",
                compressLabel: "Scegli il livello di compressione:",
                compressLevels: {
                    noCompression: "Nessuna compressione",
                    low: "Bassa compressione",
                    medium: "Media compressione",
                    high: "Alta compressione"
                },
                fileSizeBefore: "Dimensione del file prima della compressione: ",
                fileSizeAfter: "Dimensione del file dopo la compressione: ",
                copyLinkBtn: "Copia link del sito",
                redirectToGoogleBtn: "Vai a Google",
                copyLinkMessage: "Link copiato con successo!",
                redirectToGoogleMessage: "Per favore, copia prima il link del sito per andare a Google."
            }
        };

        // تغيير اللغة
        function changeLanguage() {
            const lang = document.getElementById('languageSelect').value;
            const trans = translations[lang];

            // تحديث النصوص في الصفحة الرئيسية
            document.getElementById('title').textContent = trans.title;
            document.getElementById('uploadLabel').textContent = trans.uploadLabel;
            document.getElementById('convertBtn').textContent = trans.convertBtn;
            document.getElementById('compressBtn').textContent = trans.compressBtn;
            document.getElementById('downloadLink').textContent = trans.downloadLink;
            document.getElementById('compressLabel').textContent = trans.compressLabel;

            // تحديث نصوص مستويات الضغط
            const compressLevelSelect = document.getElementById('compressLevel');
            compressLevelSelect.options[0].text = trans.compressLevels.noCompression;
            compressLevelSelect.options[1].text = trans.compressLevels.low;
            compressLevelSelect.options[2].text = trans.compressLevels.medium;
            compressLevelSelect.options[3].text = trans.compressLevels.high;

            // تحديث نصوص الأزرار
            document.getElementById('homeLink').textContent = trans.homeLink;
            document.getElementById('privacyLink').textContent = trans.privacyLink;
            document.getElementById('contactLink').textContent = trans.contactLink;

            // تحديث نصوص صفحة سياسة الخصوصية
            document.getElementById('privacyTitle').textContent = trans.privacyTitle;
            document.getElementById('privacyText').innerHTML = trans.privacyText;

            // تحديث نصوص صفحة الاتصال
            document.getElementById('contactTitle').textContent = trans.contactTitle;
            document.getElementById('contactText').innerHTML = trans.contactText;

            // تحديث رسالة نجاح التحميل
            document.getElementById('uploadSuccess').textContent = trans.uploadSuccess;

            // تحديث نصوص الزرين الجديدين
            document.getElementById('copyLinkBtn').textContent = trans.copyLinkBtn;
            document.getElementById('redirectToGoogleBtn').textContent = trans.redirectToGoogleBtn;
        }

        // دالة نسخ الرابط باستخدام العنصر المخفي
        function copyLink() {
            const hiddenInput = document.getElementById('hiddenInput');
            hiddenInput.select(); // تحديد النص في العنصر المخفي
            document.execCommand('copy'); // نسخ النص إلى الحافظة

            // إظهار رسالة نجاح
            const lang = document.getElementById('languageSelect').value;
            alert(translations[lang].copyLinkMessage);
        }

        // دالة التوجه إلى Google
        function redirectToGoogle() {
            const lang = document.getElementById('languageSelect').value;
            alert(translations[lang].redirectToGoogleMessage);
            window.open("https://www.google.com", "_blank");
        }

        // إظهار الصفحة المحددة
        function showPage(pageId) {
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // الكشف عن لغة المتصفح وتغيير اللغة تلقائيًا
        function detectUserLanguage() {
            const userLang = navigator.language || navigator.userLanguage;
            const langMap = {
                'ar': 'ar', // العربية
                'en': 'en', // الإنجليزية
                'zh': 'zh', // الصينية
                'hi': 'hi', // الهندية
                'es': 'es', // الإسبانية
                'fr': 'fr', // الفرنسية
                'ru': 'ru', // الروسية
                'pt': 'pt', // البرتغالية
                'de': 'de', // الألمانية
                'ja': 'ja', // اليابانية
                'ko': 'ko', // الكورية
                'it': 'it'  // الإيطالية
            };

            const langCode = userLang.split('-')[0]; // الحصول على الجزء الأول من اللغة (مثل 'en' من 'en-US')
            const selectedLang = langMap[langCode] || 'en'; // إذا لم يتم العثور على اللغة، استخدم الإنجليزية كافتراضي

            document.getElementById('languageSelect').value = selectedLang;
            changeLanguage(); // تغيير اللغة تلقائيًا
        }

        // استدعاء الدالة عند تحميل الصفحة
        window.onload = function () {
            detectUserLanguage(); // الكشف عن لغة المتصفح
        };

        // التعامل مع اختيار الملف
        document.getElementById('fileInput').addEventListener('change', function () {
            const file = this.files[0];
            if (file) {
                const fileSizeBefore = document.getElementById('fileSizeBefore');
                const lang = document.getElementById('languageSelect').value;
                const trans = translations[lang];
                fileSizeBefore.textContent = trans.fileSizeBefore + `${(file.size / 1024).toFixed(2)} KB`;
                document.getElementById('uploadSuccess').style.display = 'block';

                // تحديث صيغ الملفات بناءً على نوع الملف المختار
                const formatSelect = document.getElementById('formatSelect');
                const imageFormats = Array.from(formatSelect.options).filter(opt => !opt.classList.contains('video-format'));
                const videoFormats = Array.from(formatSelect.options).filter(opt => opt.classList.contains('video-format'));

                if (file.type.startsWith('video/')) {
                    // إخفاء صيغ الصور وإظهار صيغ الفيديو
                    imageFormats.forEach(opt => opt.style.display = 'none');
                    videoFormats.forEach(opt => opt.style.display = 'block');
                    formatSelect.value = 'mp4'; // تعيين القيمة الافتراضية لصيغة الفيديو
                } else {
                    // إخفاء صيغ الفيديو وإظهار صيغ الصور
                    videoFormats.forEach(opt => opt.style.display = 'none');
                    imageFormats.forEach(opt => opt.style.display = 'block');
                    formatSelect.value = 'jpeg'; // تعيين القيمة الافتراضية لصيغة الصورة
                }
            }
        });

        // ضغط الملف
        async function compressFile() {
            const input = document.getElementById('fileInput');
            const compressLevel = parseFloat(document.getElementById('compressLevel').value);
            const lang = document.getElementById('languageSelect').value;

            if (input.files && input.files[0]) {
                const file = input.files[0];
                const fileType = file.type.split('/')[0]; // 'image' أو 'video'

                if (fileType === 'image') {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        const img = new Image();
                        img.src = e.target.result;

                        img.onload = function () {
                            const canvas = document.createElement('canvas');
                            const ctx = canvas.getContext('2d');

                            canvas.width = img.width;
                            canvas.height = img.height;

                            ctx.drawImage(img, 0, 0);

                            canvas.toBlob(async function (blob) {
                                const compressedBlob = await compressImage(blob, compressLevel);
                                const fileName = `compressed_image.${file.name.split('.').pop()}`;
                                downloadFileToDesktop(fileName, compressedBlob);

                                // عرض حجم الملف بعد الضغط
                                const fileSizeAfter = document.getElementById('fileSizeAfter');
                                fileSizeAfter.textContent = trans.fileSizeAfter + `${(compressedBlob.size / 1024).toFixed(2)} KB`;
                            }, file.type, compressLevel);
                        };
                    };

                    reader.readAsDataURL(file);
                } else if (fileType === 'video') {
                    alert("ضغط الفيديو غير مدعوم حاليًا.");
                }
            } else {
                alert(translations[lang].alertMessage);
            }
        }

        // تحويل الملف
        async function convertFile() {
            const input = document.getElementById('fileInput');
            const formatSelect = document.getElementById('formatSelect');
            const lang = document.getElementById('languageSelect').value;

            if (input.files && input.files[0]) {
                const file = input.files[0];
                const fileType = file.type.split('/')[0]; // 'image' أو 'video'

                if (fileType === 'image') {
                    const reader = new FileReader();

                    reader.onload = function (e) {
                        const img = new Image();
                        img.src = e.target.result;

                        img.onload = function () {
                            const canvas = document.createElement('canvas');
                            const ctx = canvas.getContext('2d');

                            canvas.width = img.width;
                            canvas.height = img.height;

                            ctx.drawImage(img, 0, 0);

                            const selectedFormat = formatSelect.value;
                            const mimeType = `image/${selectedFormat}`;

                            canvas.toBlob(function (blob) {
                                const fileName = `converted_image.${selectedFormat}`;
                                downloadFileToDesktop(fileName, blob);

                                // عرض حجم الملف بعد التحويل
                                const fileSizeAfter = document.getElementById('fileSizeAfter');
                                fileSizeAfter.textContent = translations[lang].fileSizeAfter + `${(blob.size / 1024).toFixed(2)} KB`;
                            }, mimeType);
                        };
                    };

                    reader.readAsDataURL(file);
                } else if (fileType === 'video') {
                    const selectedFormat = formatSelect.value;
                    const fileName = `converted_video.${selectedFormat}`;

                    // تحويل الفيديو باستخدام FFmpeg
                    await ffmpeg.FS('writeFile', 'input.mp4', await fetchFile(file));
                    await ffmpeg.run('-i', 'input.mp4', `output.${selectedFormat}`);
                    const data = ffmpeg.FS('readFile', `output.${selectedFormat}`);

                    const blob = new Blob([data.buffer], { type: `video/${selectedFormat}` });
                    downloadFileToDesktop(fileName, blob);

                    // عرض حجم الملف بعد التحويل
                    const fileSizeAfter = document.getElementById('fileSizeAfter');
                    fileSizeAfter.textContent = translations[lang].fileSizeAfter + `${(blob.size / 1024).toFixed(2)} KB`;
                }
            } else {
                alert(translations[lang].alertMessage);
            }
        }

        // دالة لضغط الصور
        function compressImage(blob, quality) {
            return new Promise((resolve, reject) => {
                const img = new Image();
                img.src = URL.createObjectURL(blob);

                img.onload = function () {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');

                    canvas.width = img.width;
                    canvas.height = img.height;

                    ctx.drawImage(img, 0, 0);

                    canvas.toBlob(function (compressedBlob) {
                        resolve(compressedBlob);
                    }, blob.type, quality);
                };

                img.onerror = function (error) {
                    reject(error);
                };
            });
        }

        // تنزيل الملف إلى سطح المكتب
        function downloadFileToDesktop(fileName, blob) {
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = fileName;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // إظهار الصفحة المحددة
        function showPage(pageId) {
            const pages = document.querySelectorAll('.page-content');
            pages.forEach(page => page.classList.remove('active'));
            document.getElementById(pageId).classList.add('active');
        }

        // إخفاء صيغ الفيديو بشكل افتراضي
        document.querySelectorAll('.video-format').forEach(option => {
            option.style.display = 'none';
        });
    </script>
</body>
</html>